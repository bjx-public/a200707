!function(){var e,s,a,i,n,h;$(".bjx-top .nav a").click(function(t){t.preventDefault();var e,s=$(".bjx-top .nav a").filter(".active"),a=$(this),i=s.attr("href"),n=a.attr("href");i!==n&&(t=s.width(),i=s.position().left,s=a.width(),a=a.position().left,e=this,window.nav_playing=1,$(".bjx-top .nav a").removeClass("active"),$(".bjx-top .nav span").show().css({width:t,left:i}).animate({width:s,left:a},500,"swing",function(){$(e).addClass("active"),$(this).hide(),delete window.nav_playing}),a=0,"#"!==n&&(a=$(n).offset().top-55),$("html, body").animate({scrollTop:a},500,"swing"),history.pushState&&history.pushState(null,null,n))}),e=$(".bjx-ban").offset().top+$(".bjx-ban").height(),s=$(".bjx-user").offset().top+$(".bjx-user").height(),a=$(".bjx-jobs").offset().top+$(".bjx-jobs").height(),i=$(".bjx-serv").offset().top+$(".bjx-serv").height(),n=$(".bjx-info").offset().top+$(".bjx-info").height(),h=$(".bjx-form").offset().top+$(".bjx-form").height(),$(document).scroll(function(){var t;window.nav_playing||((t=$(document).scrollTop()+55)<e?$(".bjx-top .nav a").removeClass("active").eq(0).addClass("active"):t<s?$(".bjx-top .nav a").removeClass("active").eq(1).addClass("active"):t<a?$(".bjx-top .nav a").removeClass("active").eq(2).addClass("active"):t<i?$(".bjx-top .nav a").removeClass("active").eq(3).addClass("active"):t<n?$(".bjx-top .nav a").removeClass("active").eq(4).addClass("active"):t<h&&$(".bjx-top .nav a").removeClass("active").eq(5).addClass("active"))}),$(".popup-base .close, .popup-base .btn-base").click(function(){$(this).parents(".popup-base").parent("div").hide()}),$(".popup-base").dblclick(function(t){t.currentTarget===t.target&&$(this).parent("div").hide()}),$("select").change(function(){this.value?$(this).addClass("active"):$(this).removeClass("active")}),$(document).on("click",".js-dtl-pop",function(){var t=$(this).parents(".cell"),e=t.find(".title a"),s=t.find(".title span"),a=t.find(".title b"),i=t.find(".main"),n=e.text(),t=e.attr("href"),e=a.text(),a=s.text();a+=","+s.data("tag");for(var i=i.html(),e="<b>"+n+"<small>"+e+"</small></b>",h="",o=0,l=a.split(",");o<l.length;o+=1)0==o&&(h+="<p>"),l[o]&&(h+="<span>"+l[o]+"</span>"),o==l.length-1&&(h+="</p>");$(".popup-detail").find(".head").html(e+h).end().find(".body").html('<div class="desc">'+i+"</div>").end().find(".btns a:first").attr("href",t).end().show()}),$(document).on("click",".js-hr-pop",function(){$(".popup-recruit").find("span small").remove().end().find("input").val("").end().show()}),$(document).on("click",".js-usr-pop",function(){$(".popup-person").find("span small").remove().end().find("input").val("").end().find("select").val("").removeClass("active").end().show()});var u=/^[\u4E00-\u9FFF\uF900-\uFAFF A-Za-z\.]{2,30}$/,p=/^1\d{10}$/,r=/^\w[\w\.\-\_]*@([\w\-]+\.)+(\w+\.?)+$/,m=/^[\u4E00-\u9FFF\uF900-\uFAFF（） A-Za-z\(\)\,\.]{6,50}$/,v=/^[\u4E00-\u9FFF\uF900-\uFAFF（）、， A-Za-z0-9\(\)\.\,\-\_\+\#\/]{2,40}$/,o=/^[\u4E00-\u9FFF\uF900-\uFAFF·！￥……（）｛｝【】：；“”‘’《》，。、？\sA-Za-z0-9\~\!\#\$\%\^\&\*\(\)\{\}\[\]\:\;\"\'\,\.\/\?\-\_\+\=\/]{1,500}$/;function c(t,e){$(t).parents("span").find("small").remove(),e&&$(t).parents("span").append('<small><i class="iconfont icon-warning"></i>'+e+"</small>")}$(".popup-base input, .popup-base textarea, .bjx-form input").focus(function(t){var e=this.placeholder||"";"u_name"==this.name&&(this.value&&!u.test(this.value)?c(this,e+"格式不正确"):c(this)),"u_phone"==this.name&&(this.value&&!p.test(this.value)?c(this,e+"格式不正确"):c(this)),"u_email"==this.name&&(this.value&&!r.test(this.value)?c(this,e+"格式不正确"):c(this)),"u_cop"==this.name&&(this.value&&!m.test(this.value)?c(this,e+"格式不正确"):c(this)),"u_job"==this.name&&(this.value&&!v.test(this.value)?c(this,e+"格式不正确"):c(this)),"h_name"==this.name&&(e="姓名",this.value&&!u.test(this.value)?c(this,e+"格式不正确"):c(this)),"h_post"==this.name&&(e="岗位",this.value&&!v.test(this.value)?c(this,e+"格式不正确"):c(this)),"h_phone"==this.name&&(e="手机",this.value&&!p.test(this.value)?c(this,e+"格式不正确"):c(this)),"h_email"==this.name&&(e="邮箱",this.value&&!r.test(this.value)?c(this,e+"格式不正确"):c(this)),"h_desc"==this.name&&(e="描述",this.value&&!o.test(this.value)?c(this,e+"格式不正确"):c(this))}),$(".popup-base input, .popup-base textarea, .bjx-form input").blur(function(t){var e=this.placeholder||"";"u_name"==this.name&&(this.value?u.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"u_phone"==this.name&&(this.value?p.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"u_email"==this.name&&(this.value?r.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"u_cop"==this.name&&(this.value?m.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"u_job"==this.name&&(this.value?v.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"h_name"==this.name&&(e="姓名",this.value?u.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"h_post"==this.name&&(e="岗位",this.value?v.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"h_phone"==this.name&&(e="手机",this.value?p.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"h_email"==this.name&&(e="邮箱",this.value?r.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空")),"h_desc"==this.name&&(e="描述",this.value?o.test(this.value)?c(this):c(this,e+"格式不正确"):c(this,e+"不能为空"))}),$('.popup-person input[name="u_resume"]').change(function(t){try{var e=t.target.files[0].name||"",s=t.target.files[0].size||0}catch(t){e=this.value.split("\\").pop(),s=0}return/\.doc$|\.docx$|\.xls$|\.xlsx$|\.pdf$/.test(e)?5242880<=s?(msg_alert("文件大小不能大于2MB"),void(this.value="")):void $(".js-file-box").html("<dfn>"+e+"</dfn>"):(msg_alert("仅支持doc/docx/xls/xlsx/pdf格式"),void(this.value=""))}),$(".popup-person .btn2").click(function(){var e,t=$(".popup-person .form"),s=t.find('input[name="u_name"]').val()||"",a=t.find('input[name="u_phone"]').val()||"",i=t.find('input[name="u_email"]').val()||"",n=t.find('select[name="u_workyear"]').val()||"",h=t.find('input[name="u_cop"]').val()||"",t=t.find('input[name="u_job"]').val()||"";s&&u.test(s)?a&&p.test(a)?i&&r.test(i)?n?h&&m.test(h)?t&&v.test(t)?(e=window.net_loading(),$(".popup-person form").ajaxSubmit({success:function(t){e.remove(),1===t.status?($(".popup-person").hide(),msg_hint(t.message,{type:"success"})):(t=t.data&&t.data.Error?t.data.Error:t.message,msg_alert(t||"提交失败，请稍后再试"))}})):msg_alert("请输入正确的岗位名称"):msg_alert("请输入正确的公司名称"):msg_alert("请选择工作年限"):msg_alert("请输入正确的邮箱"):msg_alert("请输入正确的手机"):msg_alert("请输入正确的姓名")}),$(".popup-recruit .btn2").click(function(){var e,t=$(".popup-recruit .form"),s=t.find('input[name="h_name"]').val()||"",a=t.find('input[name="h_post"]').val()||"",i=t.find('input[name="h_phone"]').val()||"",n=t.find('input[name="h_email"]').val()||"",t=t.find('textarea[name="h_desc"]').val()||"";s&&u.test(s)?a&&v.test(a)?i&&p.test(i)?n&&r.test(n)?t&&o.test(t)?(e=window.net_loading(),$(".popup-recruit form").ajaxSubmit({success:function(t){e.remove(),1===t.status?($(".popup-recruit").hide(),msg_hint(t.message,{type:"success"})):(t=t.data&&t.data.Error?t.data.Error:t.message,msg_alert(t||"提交失败，请稍后再试"))}})):msg_alert("请输入正确的用人需求"):msg_alert("请输入正确的邮箱"):msg_alert("请输入正确的手机"):msg_alert("请输入正确的岗位名称"):msg_alert("请输入正确的姓名")}),$(".bjx-form form").ajaxForm({beforeSubmit:function(t,e,s){var a=$(".bjx-form .form"),i=t[0].value,n=t[1].value,h=t[2].value,o=t[3].value,t=t[4].value;if(!i||!u.test(i)){var l="请输入正确的姓名";return msg_alert(l),c(a.find('input[name="u_name"]'),l),!1}if(!n||!p.test(n)){l="请输入正确的手机";return msg_alert(l),c(a.find('input[name="u_phone"]'),l),!1}if(!h||!r.test(h)){l="请输入正确的邮箱";return msg_alert(l),c(a.find('input[name="u_email"]'),l),!1}if(!o||!m.test(o)){l="请输入正确的公司名称";return msg_alert(l),c(a.find('input[name="u_cop"]'),l),!1}if(!t||!v.test(t)){l="请输入正确的岗位名称";return msg_alert(l),c(a.find('input[name="u_job"]'),l),!1}},success:function(t){1===t.status?($(".bjx-form form").resetForm().find("span small").remove(),msg_hint(t.message,{type:"success"})):(t=t.data&&t.data.Error?t.data.Error:t.message,msg_hint(t||"提交失败，请稍后再试",{type:"error"}))}}),$(".bjx-jobs").on("click",".cc-pagelist a",function(t){t.preventDefault();t=$(this).attr("href");"javascript:;"!=t&&($("html, body").animate({scrollTop:$(".bjx-jobs").offset().top-55},500,"swing"),$.get("/api/section/hunter_cont/"+t.substr(1),function(t){$(".bjx-jobs .body").empty().append(t)}))})}();
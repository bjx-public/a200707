!function(){function n(e,t){t=t||{};var n={title:"",msg:"",btn1_txt:"确定",btn1_fun:function(){},btn2_txt:"取消",btn2_fun:function(){}};function i(e){if("string"!=typeof e)return"";var t=Object.keys||function(e){var t,n=[];for(t in e=Object(e))n.push(t);return n},n={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},t=new RegExp("["+t(n).join("")+"]","g");return e.replace(t,function(e){return n[e]})}$.extend(n,t);var a,s,o=$('<div class="cc-msg-popup"></div>'),l=$('<div class="box"></div>'),c=$('<div class="close">×</div>'),d=$('<div class="title">'+i(n.title)+"</div>"),r=$('<div class="msg">'+i(n.msg)+"</div>"),p=$('<button class="confirm">'+i(n.btn1_txt)+"</button>"),t=$('<button class="cancel">'+i(n.btn2_txt)+"</button>"),u=function(){$(a).remove()};return(a=o).dblclick(function(){u(),n.btn2_fun()}),l.dblclick(function(e){e.stopPropagation()}),c.click(function(){u(),n.btn2_fun()}),p.click(function(){u(),n.btn1_fun()}),t.click(function(){u(),n.btn2_fun()}),1===e?s=$('<div class="btn"></div>').append(p):2===e&&(s=$('<div class="btn"></div>').append(t).append(p)),l.append(c).append(d).append(r).append(s).appendTo(o),$("html").append(o),o}window.net_loading=function(){var e=$("<div class='cc-loading'><div><img src='https://static.bjx.com.cn/public/a200707/bjx_site104_hed/img/loading.gif?v=2'><p>努力加载中</p></div>");return $("html").append(e),e},window.msg_alert=function(e,t){if(e)return(t=t||{}).msg=e,n(1,t)},window.msg_confirm=function(e,t){if(e)return(t=t||{}).msg=e,n(2,t)},window.msg_hint=function(e,t){if(t=t||{},e=e||""){var n={type:"",duration:3e3};$.extend(n,t);var i=$('<div class="cc-msg-hint slideInDown"></div>');return("success"===n.type?$('<div class="box success"><div class="msg"><i class="iconfont icon-success"></i><p>'+a(e)+"</p></div></div>"):"warning"===n.type?$('<div class="box warning"><div class="msg"><i class="iconfont icon-warning"></i><p>'+a(e)+"</p></div></div>"):"error"===n.type?$('<div class="box error"><div class="msg"><i class="iconfont icon-error"></i><p>'+a(e)+"</p></div></div>"):$('<div class="box info"><div class="msg"><i class="iconfont icon-info"></i><p>'+a(e)+"</p></div></div>")).appendTo(i),$("html").append(i),n.duration&&setTimeout(function(){i.removeClass("slideInDown").addClass("slideOutUp"),setTimeout(function(){i.remove()},600)},n.duration),i}function a(e){if("string"!=typeof e)return"";var t=Object.keys||function(e){var t,n=[];for(t in e=Object(e))n.push(t);return n},n={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},t=new RegExp("["+t(n).join("")+"]","g");return e.replace(t,function(e){return n[e]})}}}(),function(){var a=function a(){var i=$(".bjx-topnav .btns");i.length&&$.get("/api/get_login_info",function(e,t,n){/text\/html/.test(n.getResponseHeader("content-type"))&&i.replaceWith(e)}),$(".bjx-slogan").hide(),$(".bjx-xcxqr").hide(),$(".bjx-kefu .lg").hide()},s=function s(){var i=$(".bjx-topnav .greet");i.length&&$.get("/api/get_login_info",function(e,t,n){/text\/html/.test(n.getResponseHeader("content-type"))&&i.replaceWith(e)}),$(".bjx-slogan").show(),$(".bjx-xcxqr").show(),$(".bjx-kefu .lg").show()};window.addEventListener("storage",function(e){if("bjx_user_info"===e.key&&e.newValue){var t={};try{t=JSON.parse(e.newValue)}catch(n){}(t.UId?a:s)(),$(".js-op-login-ifr").remove(),$(".js-op-logout-ifr").remove()}})}(),$.ajaxSetup({success:function(e,t,n){/application\/json/.test(n.getResponseHeader("content-type"))&&(window.set_op_logout||!e.set_op_logout&&"set_op_logout"!==e.extra||((e=window.document.createElement("script")).src="/oidc/set_op_logout",window.document.body.appendChild(e)))}}),$(document).on("click","a",function(e){var t=$(this).data("url")||"";"nofollow"===$(this).attr("rel")&&t&&(e.preventDefault(),"_blank"===$(this).attr("target")?window.open(t):location.href=t)}),$(function(){$(".bjx-topnav").on("click",".js-menu-switch",function(){$(this).parents(".js-menu").hide().siblings(".js-menu").show()})}),$(document).on("mousedown",".js-track a",function(e){var t=$(this).parents(".js-track"),n=t.data("ba")||"",i=$(this).data("bp")||t.data("bp")||"",a=$(this).attr("href"),t=/notrack/.test(this.rel)||this.hasAttribute("notrack");n&&!t&&!/ba=(.*)|bp=(.*)/.test(a)&&/\/vip\/|\/companys\/\d+\.html|\/jobs\/\d+\.html/.test(a)&&(i=a+(/\?/.test(a)?"&":"?")+"ba="+n+(i?"&bp="+i:""),$(this).attr("href",i))}),$(function(){var n=0,i=0;$(".bjx-topnav .menu span").mousedown(function(e){var t;e.stopPropagation(),1===e.which&&(i=n=1,(t=$(this).find("s")).addClass("active"),setTimeout(function(){i=0,n||t.removeClass("active")},330),$(".bjx-topnav .menu .maps").toggleClass("active"))}),$(".bjx-topnav .menu span").mouseup(function(){n=0,i||$(this).find("s").removeClass("active")}),$(".bjx-topnav .menu .maps").mousedown(function(e){e.stopPropagation()}),$(document).mousedown(function(){$(".bjx-topnav .menu .maps").removeClass("active")})}),$(function(){var a,e,t;/spider/.test(navigator.userAgent.toLowerCase())||((a=$(".bjx-kefu .kf ul")).length<1||(e={},!(t=a.data("ind"))||2<=(t=t.split(",")).length&&(e.industry=t[0],e.depth=t[1]),$.get("/api/get_contact_info",e,function(e,t,n){var i;1===e.status&&(i="",1<e.data.length?(2<e.data.length&&!/bjx:uid=\d+/.test(document.cookie)&&$(".bjx-kefu .xy").hide(),$.each(e.data.slice(0,3),function(e,t){i+="<li>",t.HeadImg&&(i+='<img src="'+t.HeadImg+'">'),t.ServiceName&&(i+="<b>"+t.ServiceName+"</b>"),t.TelePhone&&(i+="<span>"+t.TelePhone+"</span>"),i+="</li>"})):1===e.data.length&&(e=e.data[0],i+="<li>",e.HeadImg&&(i+='<img src="'+e.HeadImg+'">'),e.ServiceName&&(i+="<b>"+e.ServiceName+"</b>"),e.TelePhone&&(i+="<span>"+e.TelePhone+"</span>"),e.MobilePhone&&(i+="<span>"+e.MobilePhone+"</span>"),i+="</li>"),a.html(i))})))}),$(document).on("click",".bjx-toptop .icon-guanbi",function(){$(this).parents(".bjx-toptop").remove()}),function(){function n(){var e=$('<div class="user-patch"><div class="popup"><div class="box"><form><dl><dt>角色选择</dt><dd><label class="rdo"><input type="radio" name="role" value="JobSeeker"><span>我要找工作</span></label><label class="rdo"><input type="radio" name="role" value="Recruiter"><span>我要招聘</span></label></dd><dt>行业选择</dt><dd><label class="slt"><input type="text" name="industry" placeholder="请选择行业" readonly><i class="iconfont icon-xiala"></i></label></dd><dt>设置密码</dt><dd><label class="ipt"><input type="password" name="pwd" maxlength="16" placeholder="8~16位非规律字母和数字组成"></label></dd></dl><button type="submit">确定</button></form></div></div></div>');$("body").append(e);var l=(t.prototype.next=function(e,t){for(var n=$("<ul/>"),i=0;i<e.length;i++)n.append(this.render(e[i],t));return n},t.prototype.render=function(e,t){var n=this,i=$("<li/>");return i.data("data",{value:e.value,label:e.label,item:e,layer:t}),2===this.type||3===this.type?e.children?i.append('<label><input type="radio" name="l'+t+'"></label><span title="'+e.label+'">'+e.label+'</span><i class="iconfont icon-xiangyoujiantou"></i>'):i.append('<label><input type="radio" name="l'+t+'"></label><span title="'+e.label+'">'+e.label+"</span>"):e.children?i.append('<span title="'+e.label+'">'+e.label+'</span><i class="iconfont icon-xiangyoujiantou"></i>'):i.append('<span title="'+e.label+'">'+e.label+"</span>"),2===this.type||3===this.type?(i.click(function(){var e=$(this).data("data");n.values.splice(e.layer,10,e.value),n.labels.splice(e.layer,10,e.label),n.items.splice(e.layer,10,e.item);var t=$(this).parents("ul").data("parent");t&&($(t).addClass("check").siblings("li").removeClass("check"),$(t).find("input").prop("checked",!0)),$(this).addClass("check").siblings("li").removeClass("check"),$(this).find("input").prop("checked",!0),e.item.children?((t=n.next(e.item.children,e.layer+1)).data("parent",this),n.insert(t,e.layer+1)):n.$dom.find("ul").slice(e.layer+1).remove(),e.item.children||(n.callback(),n.hide(),n.$dom.find("ul").slice(e.layer+1).remove())}),i.find("input").click(function(e){var t;3===n.type&&(e.stopPropagation(),t=$(this).parents("li").data("data"),n.values.splice(t.layer,10,t.value),n.labels.splice(t.layer,10,t.label),n.items.splice(t.layer,10,t.item),(e=$(this).parents("ul").data("parent"))&&($(e).addClass("check").siblings("li").removeClass("check"),$(e).find("input").prop("checked",!0)),n.$dom.find("ul").slice(t.layer+1).remove(),$(this).parents("li").addClass("check").siblings("li").removeClass("check"),$(this).parents("li").find("input").prop("checked",!0),n.callback(),n.hide(),n.$dom.find("ul").slice(t.layer+1).remove())})):(i.mouseover(function(){var e=$(this).data("data");n.values.splice(e.layer,10,e.value),n.labels.splice(e.layer,10,e.label),n.items.splice(e.layer,10,e.item);var t=$(this).parents("ul").data("parent");t&&$(t).addClass("check").siblings("li").removeClass("check"),e.item.children?((t=n.next(e.item.children,e.layer+1)).data("parent",this),n.insert(t,e.layer+1)):n.$dom.find("ul").slice(e.layer+1).remove()}),i.click(function(){var e=$(this).data("data");e.item.children&&1!==n.type||($(this).addClass("check").siblings("li").removeClass("check"),n.callback(),n.hide(),n.$dom.find("ul").slice(e.layer+1).remove())})),i},t.prototype.insert=function(e,t){this.$dom.find("ul").slice(t).remove(),this.$dom.append(e),this.backfill_status||this.$dom.find("ul").niceScroll({cursorcolor:"#949494",autohidemode:"leave"})},t.prototype.show=function(e,t,n){var i;e?(this.$dom.attr("class","cc-cascader2"),this.$el=$(e),i=this.$el.offset(),e=e.getBoundingClientRect(),t=i.top+this.$el.height()+10,n=i.left,document.documentElement.clientHeight-e.bottom<262&&(272<e.top?(this.$dom.addClass("below"),t-=272+this.$el.height()):(this.$dom.addClass("none"),t-=(252+this.$el.height())/2)),this.$dom.css({position:"absolute",top:t+"px",left:n+"px"}).show()):this.$dom.css({position:"fixed",top:t+"px",left:n+"px"}).show(),this.backfill_status||this.$dom.find("ul").niceScroll({cursorcolor:"#949494",autohidemode:"leave"})},t.prototype.hide=function(){this.$dom.hide(),this.$el&&this.$el.find(".iconfont").removeClass("active")},t.prototype.callback=function(e){var t=$.extend([],this.values),n=$.extend([],this.labels),i=$.map(this.items,function(e){var n={};return $.each(e,function(e,t){"children"!=e&&(n[e]=t)}),n});try{this.cb(t,n,i,e)}catch(a){}},t.prototype.backfill=function(e,t){this.backfill_status=1;var n=e||[],i=[],a=[],s=this;if(n&&n.length)for(var o=0;o<n.length;o++){var l=this.$dom.find("ul")[o];$(l).find("li").removeClass("check").each(function(){var e,t=$(this).data("data");t.value==n[o]&&($(this).addClass("check").find("input").prop("checked",!0),i.push(t.label),a.push(t.item),t.item.children&&0<t.item.children.length&&o<n.length-1&&(e=s.next(t.item.children,t.layer+1),s.insert(e,t.layer+1)))})}else this.$dom.find("ul li").removeClass("check");this.values=n,this.labels=i,this.items=a,this.backfill_status=0,this.callback(t)},t);function t(e,t,n){this.cb=t,this.type=n||0,this.values=[],this.labels=[],this.items=[];e=this.next(e,0);this.$dom=$('<div class="cc-cascader2" />').hide(),this.$dom.append(e).on("click",function(e){e.stopPropagation()});var i=this;$(document).click(function(){i.hide()});try{this.$dom.get(0).addEventListener("wheel",function(e){e.preventDefault()}),this.$dom.get(0).addEventListener("mousewheel",function(e){e.preventDefault()}),this.$dom.get(0).addEventListener("DOMMouseScroll",function(e){e.preventDefault()})}catch(a){}$("body").append(this.$dom)}$.nicescroll||$.getScript("https://static.bjx.com.cn/public/a200707/bjx_site104_hed/js/lib/jquery.nicescroll.min.js"),$.getJSON("/api/cond/industry/",function(e,t,n){var i=$(".user-patch .slt"),a=i.find("input"),s=i.find(".iconfont"),o=new l(e.data,function(e,t,n,i){a.val(t.join(" - ")).data("val",e.pop()),s.removeClass("active")},1);i.click(function(e){e.stopPropagation(),s.hasClass("active")?(s.removeClass("active"),o.hide()):(s.addClass("active"),e=this.getBoundingClientRect(),document.documentElement.clientHeight-e.bottom<262?260<e.top?o.show(null,e.top-262,e.left):o.show(null,e.top-111,e.left):o.show(null,e.bottom+10,e.left))}),$(document).click(function(){s.removeClass("active")})}),$(".user-patch form").submit(function(e){e.preventDefault?e.preventDefault():window.event.returnValue=!1;var t=$('.user-patch input[name="role"]:checked').val()||"",n=$('.user-patch input[name="industry"]').data("val")||"",e=$('.user-patch input[name="pwd"]').val()||"";if(t)if(n)if(e){if(/^(?=.*[0-9])(?=.*[a-zA-Z])(([\x21-\x7e])|[^a-zA-Z0-9]){8,16}$/.test(e))return delete window.sessionStorage.need_patch_userinfo,delete window.sessionStorage.need_patch_userinfo_switch,$.ajax({url:"/api/quick_signup/patch_para/",type:"post",data:JSON.stringify({role:t,industry:n,pwd:e}),processData:!1,contentType:"application/json",cache:!1,dataType:"json"}).done(function(e){$.ajax({url:e.url,type:"post",data:JSON.stringify(e.body),processData:!1,contentType:"application/json",cache:!1,dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){location.href="Recruiter"==t?"https://yun.bjx.com.cn/":"https://my.bjx.com.cn/"})}),!1;window.msg_alert("密码格式不符合要求")}else window.msg_alert("请输入密码");else window.msg_alert("请选择行业");else window.msg_alert("请选择角色")})}var i;window.sessionStorage.need_patch_userinfo&&window.sessionStorage.need_patch_userinfo_switch&&n(),/bjx:uid=\d+/.test(document.cookie)?((i=$(".bjx-topnav .btns")).length&&$.get("/api/get_login_info",function(e,t,n){/text\/html/.test(n.getResponseHeader("content-type"))&&i.replaceWith(e)}),$.getScript("https://static.bjx.com.cn/public/a200707/bjx_site104_hed/js/notices.js")):($(function(){var e;window.set_op_logout||window.check_op_login||((e=window.document.createElement("script")).src="/oidc/check_op_login",window.document.body.appendChild(e))}),0<$(".bjx-slogan").show().length&&$.getScript("https://static.bjx.com.cn/public/a200707/bjx_site104_hed/js/lib/gt.js",function(){var i="",t=function t(n){n.onSuccess(function(){var e=n.getValidate(),t=$('.bjx-slogan input[name="phone"]').val()||"";/^1\d{10}$/.test(t)?(a($(".bjx-slogan label span"),60),e.phone=t,$.ajax({url:"/api/quick_signup/geetest_check/",type:"post",data:JSON.stringify(e),processData:!1,contentType:"application/json",cache:!1,dataType:"json"}).done(function(e){1===e.status?(i=t,window.msg_hint("短信发送成功",{type:"success"})):(n.reset(),e=e.data&&e.data.Error?e.data.Error:"短信发送失败",window.msg_hint(e,{type:"error"}))})):window.msg_alert("请输入正确的手机号")}),window.captchaObj=n};$.ajax({url:"/api/quick_signup/geetest_get/",type:"get",cache:!1,dataType:"json"}).done(function(e){1===e.status?initGeetest({gt:e.data.Gt,challenge:e.data.Challenge,offline:!e.data.Success,new_captcha:e.data.New_Captcha,product:"bind"},t):console.log("极验初始化失败!")});var a=function a(e,t){var n=t||60;$(e).addClass("disabled").data("loading",1).html(n+"s"),$(e).siblings('input[name="code"]').val("");var i=setInterval(function(){--n<0?(clearInterval(i),$(e).removeClass("disabled").data("loading",0).html("重发")):$(e).html(n+"s")},1e3)};$(".bjx-slogan label span").click(function(e){var t;$(this).data("loading")||(t=$('.bjx-slogan input[name="phone"]').val()||"",/^1\d{10}$/.test(t)?window.captchaObj&&window.captchaObj.verify():window.msg_alert("请输入正确的手机号"))}),$(".bjx-slogan form").submit(function(e){e.preventDefault?e.preventDefault():window.event.returnValue=!1;var t=$('.bjx-slogan input[name="phone"]').val()||"",e=$('.bjx-slogan input[name="code"]').val()||"";if(i)if(i===t)if(e){e={phone:t,code:e,source:location.protocol+"//"+location.host};if(!window.slogan_login)return window.slogan_login=1,$.ajax({url:"/api/quick_signup/signup_para/",type:"post",data:JSON.stringify(e),processData:!1,contentType:"application/json",cache:!1,dataType:"json"}).done(function(e){$.ajax({url:e.url,type:"post",data:JSON.stringify(e.body),processData:!1,contentType:"application/json",cache:!1,dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){!1===e.IsError?(window.msg_hint("登录/注册成功",{type:"success"}),$("body").append('<script src="/oidc/check_op_login"><\/script>'),e.Data.Patch&&(n(),window.sessionStorage.need_patch_userinfo=1),setTimeout(function(){/bjx:uid=\d+/.test(document.cookie)||(window.sessionStorage.need_patch_userinfo_switch=1,window.location.reload())},7e3)):(window.slogan_login=0,e=e.Error||"登录/注册失败，请稍后再试",window.msg_hint(e,{type:"error"}))})}),!1}else window.msg_alert("验证码不能为空");else window.msg_alert("验证手机和当前手机号不一致");else window.msg_alert("请先获取验证码")})}),$(".bjx-xcxqr").show(),$(function(){$(".bjx-kefu .lg").show()}))}();